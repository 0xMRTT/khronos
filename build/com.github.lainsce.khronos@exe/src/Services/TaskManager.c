/* TaskManager.c generated by valac 0.40.19, the Vala compiler
 * generated from TaskManager.vala, do not modify */

/*
* Copyright (c) 2018 Lains
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public
* License as published by the Free Software Foundation; either
* version 2 of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
* General Public License for more details.
*
* You should have received a copy of the GNU General Public
* License along with this program; if not, write to the
* Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor,
* Boston, MA 02110-1301 USA
*/


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <json-glib/json-glib.h>
#include <stdlib.h>
#include <string.h>
#include <gio/gio.h>
#include <gee.h>
#include <gobject/gvaluecollector.h>


#define KHRONOS_TYPE_TASK_MANAGER (khronos_task_manager_get_type ())
#define KHRONOS_TASK_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KHRONOS_TYPE_TASK_MANAGER, KhronosTaskManager))
#define KHRONOS_TASK_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KHRONOS_TYPE_TASK_MANAGER, KhronosTaskManagerClass))
#define KHRONOS_IS_TASK_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KHRONOS_TYPE_TASK_MANAGER))
#define KHRONOS_IS_TASK_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KHRONOS_TYPE_TASK_MANAGER))
#define KHRONOS_TASK_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KHRONOS_TYPE_TASK_MANAGER, KhronosTaskManagerClass))

typedef struct _KhronosTaskManager KhronosTaskManager;
typedef struct _KhronosTaskManagerClass KhronosTaskManagerClass;
typedef struct _KhronosTaskManagerPrivate KhronosTaskManagerPrivate;

#define KHRONOS_TYPE_MAIN_WINDOW (khronos_main_window_get_type ())
#define KHRONOS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KHRONOS_TYPE_MAIN_WINDOW, KhronosMainWindow))
#define KHRONOS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KHRONOS_TYPE_MAIN_WINDOW, KhronosMainWindowClass))
#define KHRONOS_IS_MAIN_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KHRONOS_TYPE_MAIN_WINDOW))
#define KHRONOS_IS_MAIN_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KHRONOS_TYPE_MAIN_WINDOW))
#define KHRONOS_MAIN_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KHRONOS_TYPE_MAIN_WINDOW, KhronosMainWindowClass))

typedef struct _KhronosMainWindow KhronosMainWindow;
typedef struct _KhronosMainWindowClass KhronosMainWindowClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define KHRONOS_TYPE_DAY_COLUMN (khronos_day_column_get_type ())
#define KHRONOS_DAY_COLUMN(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KHRONOS_TYPE_DAY_COLUMN, KhronosDayColumn))
#define KHRONOS_DAY_COLUMN_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KHRONOS_TYPE_DAY_COLUMN, KhronosDayColumnClass))
#define KHRONOS_IS_DAY_COLUMN(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KHRONOS_TYPE_DAY_COLUMN))
#define KHRONOS_IS_DAY_COLUMN_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KHRONOS_TYPE_DAY_COLUMN))
#define KHRONOS_DAY_COLUMN_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KHRONOS_TYPE_DAY_COLUMN, KhronosDayColumnClass))

typedef struct _KhronosDayColumn KhronosDayColumn;
typedef struct _KhronosDayColumnClass KhronosDayColumnClass;
typedef struct _KhronosMainWindowPrivate KhronosMainWindowPrivate;
#define __vala_JsonNode_free0(var) ((var == NULL) ? NULL : (var = (_vala_JsonNode_free (var), NULL)))

#define KHRONOS_TYPE_TASK_BOX (khronos_task_box_get_type ())
#define KHRONOS_TASK_BOX(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), KHRONOS_TYPE_TASK_BOX, KhronosTaskBox))
#define KHRONOS_TASK_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), KHRONOS_TYPE_TASK_BOX, KhronosTaskBoxClass))
#define KHRONOS_IS_TASK_BOX(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), KHRONOS_TYPE_TASK_BOX))
#define KHRONOS_IS_TASK_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), KHRONOS_TYPE_TASK_BOX))
#define KHRONOS_TASK_BOX_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), KHRONOS_TYPE_TASK_BOX, KhronosTaskBoxClass))

typedef struct _KhronosTaskBox KhronosTaskBox;
typedef struct _KhronosTaskBoxClass KhronosTaskBoxClass;
typedef struct _KhronosTaskBoxPrivate KhronosTaskBoxPrivate;
#define _json_array_unref0(var) ((var == NULL) ? NULL : (var = (json_array_unref (var), NULL)))
typedef struct _KhronosParamSpecTaskManager KhronosParamSpecTaskManager;

struct _KhronosTaskManager {
	GTypeInstance parent_instance;
	volatile int ref_count;
	KhronosTaskManagerPrivate * priv;
	KhronosMainWindow* win;
	JsonBuilder* builder;
};

struct _KhronosTaskManagerClass {
	GTypeClass parent_class;
	void (*finalize) (KhronosTaskManager *self);
};

struct _KhronosTaskManagerPrivate {
	gchar* app_dir;
	gchar* file_name;
};

struct _KhronosMainWindow {
	GtkApplicationWindow parent_instance;
	KhronosMainWindowPrivate * priv;
	KhronosDayColumn* column;
	GtkGrid* grid;
	KhronosTaskManager* tm;
};

struct _KhronosMainWindowClass {
	GtkApplicationWindowClass parent_class;
};

struct _KhronosTaskBox {
	GtkListBoxRow parent_instance;
	KhronosTaskBoxPrivate * priv;
	gchar* task_name;
	gchar* time;
};

struct _KhronosTaskBoxClass {
	GtkListBoxRowClass parent_class;
};

struct _KhronosParamSpecTaskManager {
	GParamSpec parent_instance;
};


static gpointer khronos_task_manager_parent_class = NULL;

gpointer khronos_task_manager_ref (gpointer instance);
void khronos_task_manager_unref (gpointer instance);
GParamSpec* khronos_param_spec_task_manager (const gchar* name,
                                             const gchar* nick,
                                             const gchar* blurb,
                                             GType object_type,
                                             GParamFlags flags);
void khronos_value_set_task_manager (GValue* value,
                                     gpointer v_object);
void khronos_value_take_task_manager (GValue* value,
                                      gpointer v_object);
gpointer khronos_value_get_task_manager (const GValue* value);
GType khronos_task_manager_get_type (void) G_GNUC_CONST;
GType khronos_main_window_get_type (void) G_GNUC_CONST;
#define KHRONOS_TASK_MANAGER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), KHRONOS_TYPE_TASK_MANAGER, KhronosTaskManagerPrivate))
KhronosTaskManager* khronos_task_manager_new (KhronosMainWindow* win);
KhronosTaskManager* khronos_task_manager_construct (GType object_type,
                                                    KhronosMainWindow* win);
void khronos_task_manager_save_notes (KhronosTaskManager* self);
static gchar* khronos_task_manager_prepare_json_from_notes (KhronosTaskManager* self);
GType khronos_day_column_get_type (void) G_GNUC_CONST;
static void khronos_task_manager_save_column (JsonBuilder* builder,
                                       KhronosDayColumn* column);
static void _vala_JsonNode_free (JsonNode* self);
GType khronos_task_box_get_type (void) G_GNUC_CONST;
GeeArrayList* khronos_day_column_get_tasks (KhronosDayColumn* self);
void khronos_task_manager_load_from_file (KhronosTaskManager* self);
static JsonNode* _vala_JsonNode_copy (JsonNode* self);
void khronos_day_column_add_task (KhronosDayColumn* self,
                                  const gchar* name,
                                  const gchar* time);
static void khronos_task_manager_finalize (KhronosTaskManager * obj);


static gpointer
_g_object_ref0 (gpointer self)
{
#line 29 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return self ? g_object_ref (self) : NULL;
#line 172 "TaskManager.c"
}


KhronosTaskManager*
khronos_task_manager_construct (GType object_type,
                                KhronosMainWindow* win)
{
	KhronosTaskManager* self = NULL;
	KhronosMainWindow* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* _tmp5_;
#line 28 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_val_if_fail (win != NULL, NULL);
#line 28 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self = (KhronosTaskManager*) g_type_create_instance (object_type);
#line 29 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp0_ = _g_object_ref0 (win);
#line 29 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (self->win);
#line 29 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->win = _tmp0_;
#line 30 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp1_ = self->priv->app_dir;
#line 30 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp2_ = g_strconcat (_tmp1_, "/saved_tasks.json", NULL);
#line 30 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_free0 (self->priv->file_name);
#line 30 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->priv->file_name = _tmp2_;
#line 31 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp3_ = self->priv->file_name;
#line 31 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp4_ = g_strdup_printf ("%s", _tmp3_);
#line 31 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp5_ = _tmp4_;
#line 31 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_debug ("TaskManager.vala:31: %s", _tmp5_);
#line 31 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_free0 (_tmp5_);
#line 28 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return self;
#line 217 "TaskManager.c"
}


KhronosTaskManager*
khronos_task_manager_new (KhronosMainWindow* win)
{
#line 28 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return khronos_task_manager_construct (KHRONOS_TYPE_TASK_MANAGER, win);
#line 226 "TaskManager.c"
}


void
khronos_task_manager_save_notes (KhronosTaskManager* self)
{
	gchar* json_string = NULL;
	gchar* _tmp0_;
	GFile* dir = NULL;
	const gchar* _tmp1_;
	GFile* _tmp2_;
	GFile* file = NULL;
	const gchar* _tmp3_;
	GFile* _tmp4_;
	GError* _inner_error0_ = NULL;
#line 34 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (self != NULL);
#line 35 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp0_ = khronos_task_manager_prepare_json_from_notes (self);
#line 35 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_string = _tmp0_;
#line 36 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp1_ = self->priv->app_dir;
#line 36 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp2_ = g_file_new_for_path (_tmp1_);
#line 36 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	dir = _tmp2_;
#line 37 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp3_ = self->priv->file_name;
#line 37 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp4_ = g_file_new_for_path (_tmp3_);
#line 37 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	file = _tmp4_;
#line 260 "TaskManager.c"
	{
		GFile* _tmp5_;
		GFile* _tmp7_;
		GFileOutputStream* file_stream = NULL;
		GFile* _tmp9_;
		GFileOutputStream* _tmp10_;
		GDataOutputStream* data_stream = NULL;
		GFileOutputStream* _tmp11_;
		GDataOutputStream* _tmp12_;
		GDataOutputStream* _tmp13_;
		const gchar* _tmp14_;
#line 39 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp5_ = dir;
#line 39 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (!g_file_query_exists (_tmp5_, NULL)) {
#line 276 "TaskManager.c"
			GFile* _tmp6_;
#line 40 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp6_ = dir;
#line 40 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			g_file_make_directory (_tmp6_, NULL, &_inner_error0_);
#line 40 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 284 "TaskManager.c"
				goto __catch0_g_error;
			}
		}
#line 42 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp7_ = file;
#line 42 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (g_file_query_exists (_tmp7_, NULL)) {
#line 292 "TaskManager.c"
			GFile* _tmp8_;
#line 43 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp8_ = file;
#line 43 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			g_file_delete (_tmp8_, NULL, &_inner_error0_);
#line 43 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 300 "TaskManager.c"
				goto __catch0_g_error;
			}
		}
#line 45 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp9_ = file;
#line 45 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp10_ = g_file_create (_tmp9_, G_FILE_CREATE_REPLACE_DESTINATION, NULL, &_inner_error0_);
#line 45 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		file_stream = _tmp10_;
#line 45 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 312 "TaskManager.c"
			goto __catch0_g_error;
		}
#line 48 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp11_ = file_stream;
#line 48 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp12_ = g_data_output_stream_new ((GOutputStream*) _tmp11_);
#line 48 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		data_stream = _tmp12_;
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp13_ = data_stream;
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp14_ = json_string;
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_data_output_stream_put_string (_tmp13_, _tmp14_, NULL, &_inner_error0_);
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (data_stream);
#line 49 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (file_stream);
#line 333 "TaskManager.c"
			goto __catch0_g_error;
		}
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (data_stream);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (file_stream);
#line 340 "TaskManager.c"
	}
	goto __finally0;
	__catch0_g_error:
	{
		GError* e = NULL;
		GError* _tmp15_;
		const gchar* _tmp16_;
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		e = _inner_error0_;
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_inner_error0_ = NULL;
#line 51 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp15_ = e;
#line 51 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp16_ = _tmp15_->message;
#line 51 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_warning ("TaskManager.vala:51: Failed to save khronos: %s\n", _tmp16_);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_error_free0 (e);
#line 360 "TaskManager.c"
	}
	__finally0:
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (file);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (dir);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_free0 (json_string);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_clear_error (&_inner_error0_);
#line 38 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		return;
#line 377 "TaskManager.c"
	}
#line 34 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (file);
#line 34 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (dir);
#line 34 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_free0 (json_string);
#line 385 "TaskManager.c"
}


static void
_vala_JsonNode_free (JsonNode* self)
{
#line 67 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_boxed_free (json_node_get_type (), self);
#line 394 "TaskManager.c"
}


static gchar*
khronos_task_manager_prepare_json_from_notes (KhronosTaskManager* self)
{
	gchar* result = NULL;
	JsonBuilder* _tmp0_;
	JsonBuilder* _tmp1_;
	JsonBuilder* _tmp2_;
	KhronosMainWindow* _tmp3_;
	KhronosDayColumn* _tmp4_;
	JsonBuilder* _tmp5_;
	JsonGenerator* generator = NULL;
	JsonGenerator* _tmp6_;
	JsonNode* root = NULL;
	JsonBuilder* _tmp7_;
	JsonNode* _tmp8_;
	gchar* str = NULL;
	gchar* _tmp9_;
#line 56 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 57 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp0_ = json_builder_new ();
#line 57 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (self->builder);
#line 57 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->builder = _tmp0_;
#line 59 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp1_ = self->builder;
#line 59 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_builder_begin_array (_tmp1_);
#line 60 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp2_ = self->builder;
#line 60 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp3_ = self->win;
#line 60 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp4_ = _tmp3_->column;
#line 60 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	khronos_task_manager_save_column (_tmp2_, _tmp4_);
#line 61 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp5_ = self->builder;
#line 61 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_builder_end_array (_tmp5_);
#line 63 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp6_ = json_generator_new ();
#line 63 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	generator = _tmp6_;
#line 64 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp7_ = self->builder;
#line 64 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp8_ = json_builder_get_root (_tmp7_);
#line 64 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	root = _tmp8_;
#line 65 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_generator_set_root (generator, root);
#line 66 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp9_ = json_generator_to_data (generator, NULL);
#line 66 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	str = _tmp9_;
#line 67 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	result = str;
#line 67 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	__vala_JsonNode_free0 (root);
#line 67 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (generator);
#line 67 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return result;
#line 463 "TaskManager.c"
}


static void
khronos_task_manager_save_column (JsonBuilder* builder,
                                  KhronosDayColumn* column)
{
#line 70 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (builder != NULL);
#line 70 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (column != NULL);
#line 72 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_builder_begin_array (builder);
#line 477 "TaskManager.c"
	{
		GeeArrayList* _task_list = NULL;
		GeeArrayList* _tmp0_;
		gint _task_size = 0;
		GeeArrayList* _tmp1_;
		gint _tmp2_;
		gint _tmp3_;
		gint _task_index = 0;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp0_ = khronos_day_column_get_tasks (column);
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_task_list = _tmp0_;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp1_ = _task_list;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp2_ = gee_abstract_collection_get_size ((GeeAbstractCollection*) _tmp1_);
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp3_ = _tmp2_;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_task_size = _tmp3_;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_task_index = -1;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		while (TRUE) {
#line 502 "TaskManager.c"
			gint _tmp4_;
			gint _tmp5_;
			gint _tmp6_;
			KhronosTaskBox* task = NULL;
			GeeArrayList* _tmp7_;
			gint _tmp8_;
			gpointer _tmp9_;
			KhronosTaskBox* _tmp10_;
			const gchar* _tmp11_;
			KhronosTaskBox* _tmp12_;
			const gchar* _tmp13_;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp4_ = _task_index;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_task_index = _tmp4_ + 1;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp5_ = _task_index;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp6_ = _task_size;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			if (!(_tmp5_ < _tmp6_)) {
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				break;
#line 526 "TaskManager.c"
			}
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp7_ = _task_list;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp8_ = _task_index;
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp9_ = gee_abstract_list_get ((GeeAbstractList*) _tmp7_, _tmp8_);
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			task = (KhronosTaskBox*) _tmp9_;
#line 74 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			json_builder_begin_array (builder);
#line 75 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp10_ = task;
#line 75 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp11_ = _tmp10_->task_name;
#line 75 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			json_builder_add_string_value (builder, _tmp11_);
#line 76 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp12_ = task;
#line 76 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp13_ = _tmp12_->time;
#line 76 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			json_builder_add_string_value (builder, _tmp13_);
#line 77 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			json_builder_end_array (builder);
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (task);
#line 554 "TaskManager.c"
		}
#line 73 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (_task_list);
#line 558 "TaskManager.c"
	}
#line 79 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	json_builder_end_array (builder);
#line 562 "TaskManager.c"
}


static JsonNode*
_vala_JsonNode_copy (JsonNode* self)
{
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return g_boxed_copy (json_node_get_type (), self);
#line 571 "TaskManager.c"
}


static gpointer
__vala_JsonNode_copy0 (gpointer self)
{
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return self ? _vala_JsonNode_copy (self) : NULL;
#line 580 "TaskManager.c"
}


static gpointer
_json_array_ref0 (gpointer self)
{
#line 95 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return self ? json_array_ref (self) : NULL;
#line 589 "TaskManager.c"
}


void
khronos_task_manager_load_from_file (KhronosTaskManager* self)
{
	GError* _inner_error0_ = NULL;
#line 82 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (self != NULL);
#line 599 "TaskManager.c"
	{
		GFile* file = NULL;
		const gchar* _tmp0_;
		GFile* _tmp1_;
		gchar* json_string = NULL;
		gchar* _tmp2_;
		GFile* _tmp3_;
#line 84 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp0_ = self->priv->file_name;
#line 84 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp1_ = g_file_new_for_path (_tmp0_);
#line 84 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		file = _tmp1_;
#line 85 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp2_ = g_strdup ("");
#line 85 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		json_string = _tmp2_;
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp3_ = file;
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (g_file_query_exists (_tmp3_, NULL)) {
#line 621 "TaskManager.c"
			gchar* line = NULL;
			GFileInputStream* _tmp4_ = NULL;
			GFile* _tmp5_;
			GFileInputStream* _tmp6_;
			GDataInputStream* dis = NULL;
			GDataInputStream* _tmp7_;
			JsonParser* parser = NULL;
			JsonParser* _tmp16_;
			JsonParser* _tmp17_;
			const gchar* _tmp18_;
			JsonNode* root = NULL;
			JsonParser* _tmp19_;
			JsonNode* _tmp20_;
			JsonNode* _tmp21_;
			JsonArray* array = NULL;
			JsonNode* _tmp22_;
			JsonArray* _tmp23_;
			JsonArray* _tmp24_;
			JsonArray* columns = NULL;
			JsonArray* _tmp25_;
			JsonArray* _tmp26_;
			JsonArray* _tmp27_;
			JsonArray* _tmp28_;
			GList* _tmp29_;
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp5_ = file;
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp6_ = g_file_read (_tmp5_, NULL, &_inner_error0_);
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp4_ = _tmp6_;
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (line);
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (json_string);
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_object_unref0 (file);
#line 660 "TaskManager.c"
				goto __catch1_g_error;
			}
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp7_ = g_data_input_stream_new ((GInputStream*) _tmp4_);
#line 88 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			dis = _tmp7_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			while (TRUE) {
#line 669 "TaskManager.c"
				gchar* _tmp8_ = NULL;
				GDataInputStream* _tmp9_;
				gchar* _tmp10_;
				gchar* _tmp11_;
				const gchar* _tmp12_;
				const gchar* _tmp13_;
				const gchar* _tmp14_;
				gchar* _tmp15_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp9_ = dis;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp10_ = g_data_input_stream_read_line (_tmp9_, NULL, NULL, &_inner_error0_);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp8_ = _tmp10_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_object_unref0 (dis);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_object_unref0 (_tmp4_);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_free0 (line);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_free0 (json_string);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_object_unref0 (file);
#line 696 "TaskManager.c"
					goto __catch1_g_error;
				}
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp11_ = _tmp8_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp8_ = NULL;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (line);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				line = _tmp11_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp12_ = line;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				if (!(_tmp12_ != NULL)) {
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					_g_free0 (_tmp8_);
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					break;
#line 715 "TaskManager.c"
				}
#line 90 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp13_ = json_string;
#line 90 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp14_ = line;
#line 90 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_tmp15_ = g_strconcat (_tmp13_, _tmp14_, NULL);
#line 90 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (json_string);
#line 90 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				json_string = _tmp15_;
#line 89 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (_tmp8_);
#line 729 "TaskManager.c"
			}
#line 92 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp16_ = json_parser_new ();
#line 92 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			parser = _tmp16_;
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp17_ = parser;
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp18_ = json_string;
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			json_parser_load_from_data (_tmp17_, _tmp18_, (gssize) -1, &_inner_error0_);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_object_unref0 (parser);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_object_unref0 (dis);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_object_unref0 (_tmp4_);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (line);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_free0 (json_string);
#line 93 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				_g_object_unref0 (file);
#line 755 "TaskManager.c"
				goto __catch1_g_error;
			}
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp19_ = parser;
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp20_ = json_parser_get_root (_tmp19_);
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp21_ = __vala_JsonNode_copy0 (_tmp20_);
#line 94 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			root = _tmp21_;
#line 95 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp22_ = root;
#line 95 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp23_ = json_node_get_array (_tmp22_);
#line 95 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp24_ = _json_array_ref0 (_tmp23_);
#line 95 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			array = _tmp24_;
#line 96 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp25_ = array;
#line 96 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp26_ = json_array_get_array_element (_tmp25_, (guint) 0);
#line 96 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp27_ = _json_array_ref0 (_tmp26_);
#line 96 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			columns = _tmp27_;
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp28_ = columns;
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_tmp29_ = json_array_get_elements (_tmp28_);
#line 786 "TaskManager.c"
			{
				GList* tasks_collection = NULL;
				GList* tasks_it = NULL;
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				tasks_collection = _tmp29_;
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				for (tasks_it = tasks_collection; tasks_it != NULL; tasks_it = tasks_it->next) {
#line 794 "TaskManager.c"
					JsonNode* tasks = NULL;
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
					tasks = (JsonNode*) tasks_it->data;
#line 798 "TaskManager.c"
					{
						JsonArray* task = NULL;
						JsonNode* _tmp30_;
						JsonArray* _tmp31_;
						JsonArray* _tmp32_;
						gchar* task_name = NULL;
						JsonArray* _tmp33_;
						const gchar* _tmp34_;
						gchar* _tmp35_;
						gchar* time = NULL;
						JsonArray* _tmp36_;
						const gchar* _tmp37_;
						gchar* _tmp38_;
						KhronosMainWindow* _tmp39_;
						KhronosDayColumn* _tmp40_;
						const gchar* _tmp41_;
						const gchar* _tmp42_;
#line 98 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp30_ = tasks;
#line 98 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp31_ = json_node_get_array (_tmp30_);
#line 98 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp32_ = _json_array_ref0 (_tmp31_);
#line 98 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						task = _tmp32_;
#line 99 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp33_ = task;
#line 99 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp34_ = json_array_get_string_element (_tmp33_, (guint) 0);
#line 99 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp35_ = g_strdup (_tmp34_);
#line 99 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						task_name = _tmp35_;
#line 100 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp36_ = task;
#line 100 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp37_ = json_array_get_string_element (_tmp36_, (guint) 1);
#line 100 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp38_ = g_strdup (_tmp37_);
#line 100 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						time = _tmp38_;
#line 102 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp39_ = self->win;
#line 102 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp40_ = _tmp39_->column;
#line 102 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp41_ = task_name;
#line 102 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_tmp42_ = time;
#line 102 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						khronos_day_column_add_task (_tmp40_, _tmp41_, _tmp42_);
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_g_free0 (time);
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_g_free0 (task_name);
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
						_json_array_unref0 (task);
#line 856 "TaskManager.c"
					}
				}
#line 97 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
				(tasks_collection == NULL) ? NULL : (tasks_collection = (g_list_free (tasks_collection), NULL));
#line 861 "TaskManager.c"
			}
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_json_array_unref0 (columns);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_json_array_unref0 (array);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			__vala_JsonNode_free0 (root);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (parser);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (dis);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_object_unref0 (_tmp4_);
#line 86 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			_g_free0 (line);
#line 877 "TaskManager.c"
		}
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_free0 (json_string);
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_object_unref0 (file);
#line 883 "TaskManager.c"
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* e = NULL;
		GError* _tmp43_;
		const gchar* _tmp44_;
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		e = _inner_error0_;
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_inner_error0_ = NULL;
#line 106 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp43_ = e;
#line 106 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_tmp44_ = _tmp43_->message;
#line 106 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_warning ("TaskManager.vala:106: Failed to load file: %s\n", _tmp44_);
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		_g_error_free0 (e);
#line 903 "TaskManager.c"
	}
	__finally1:
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_clear_error (&_inner_error0_);
#line 83 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		return;
#line 914 "TaskManager.c"
	}
}


static void
khronos_value_task_manager_init (GValue* value)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	value->data[0].v_pointer = NULL;
#line 924 "TaskManager.c"
}


static void
khronos_value_task_manager_free_value (GValue* value)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (value->data[0].v_pointer) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		khronos_task_manager_unref (value->data[0].v_pointer);
#line 935 "TaskManager.c"
	}
}


static void
khronos_value_task_manager_copy_value (const GValue* src_value,
                                       GValue* dest_value)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (src_value->data[0].v_pointer) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		dest_value->data[0].v_pointer = khronos_task_manager_ref (src_value->data[0].v_pointer);
#line 948 "TaskManager.c"
	} else {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		dest_value->data[0].v_pointer = NULL;
#line 952 "TaskManager.c"
	}
}


static gpointer
khronos_value_task_manager_peek_pointer (const GValue* value)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return value->data[0].v_pointer;
#line 962 "TaskManager.c"
}


static gchar*
khronos_value_task_manager_collect_value (GValue* value,
                                          guint n_collect_values,
                                          GTypeCValue* collect_values,
                                          guint collect_flags)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (collect_values[0].v_pointer) {
#line 974 "TaskManager.c"
		KhronosTaskManager * object;
		object = collect_values[0].v_pointer;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		if (object->parent_instance.g_class == NULL) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 981 "TaskManager.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 985 "TaskManager.c"
		}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = khronos_task_manager_ref (object);
#line 989 "TaskManager.c"
	} else {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = NULL;
#line 993 "TaskManager.c"
	}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return NULL;
#line 997 "TaskManager.c"
}


static gchar*
khronos_value_task_manager_lcopy_value (const GValue* value,
                                        guint n_collect_values,
                                        GTypeCValue* collect_values,
                                        guint collect_flags)
{
	KhronosTaskManager ** object_p;
	object_p = collect_values[0].v_pointer;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (!object_p) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 1013 "TaskManager.c"
	}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (!value->data[0].v_pointer) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		*object_p = NULL;
#line 1019 "TaskManager.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		*object_p = value->data[0].v_pointer;
#line 1023 "TaskManager.c"
	} else {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		*object_p = khronos_task_manager_ref (value->data[0].v_pointer);
#line 1027 "TaskManager.c"
	}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return NULL;
#line 1031 "TaskManager.c"
}


GParamSpec*
khronos_param_spec_task_manager (const gchar* name,
                                 const gchar* nick,
                                 const gchar* blurb,
                                 GType object_type,
                                 GParamFlags flags)
{
	KhronosParamSpecTaskManager* spec;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_val_if_fail (g_type_is_a (object_type, KHRONOS_TYPE_TASK_MANAGER), NULL);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return G_PARAM_SPEC (spec);
#line 1051 "TaskManager.c"
}


gpointer
khronos_value_get_task_manager (const GValue* value)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KHRONOS_TYPE_TASK_MANAGER), NULL);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return value->data[0].v_pointer;
#line 1062 "TaskManager.c"
}


void
khronos_value_set_task_manager (GValue* value,
                                gpointer v_object)
{
	KhronosTaskManager * old;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KHRONOS_TYPE_TASK_MANAGER));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	old = value->data[0].v_pointer;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (v_object) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, KHRONOS_TYPE_TASK_MANAGER));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = v_object;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		khronos_task_manager_ref (value->data[0].v_pointer);
#line 1085 "TaskManager.c"
	} else {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = NULL;
#line 1089 "TaskManager.c"
	}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (old) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		khronos_task_manager_unref (old);
#line 1095 "TaskManager.c"
	}
}


void
khronos_value_take_task_manager (GValue* value,
                                 gpointer v_object)
{
	KhronosTaskManager * old;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, KHRONOS_TYPE_TASK_MANAGER));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	old = value->data[0].v_pointer;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (v_object) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, KHRONOS_TYPE_TASK_MANAGER));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = v_object;
#line 1117 "TaskManager.c"
	} else {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		value->data[0].v_pointer = NULL;
#line 1121 "TaskManager.c"
	}
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (old) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		khronos_task_manager_unref (old);
#line 1127 "TaskManager.c"
	}
}


static void
khronos_task_manager_class_init (KhronosTaskManagerClass * klass)
{
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	khronos_task_manager_parent_class = g_type_class_peek_parent (klass);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	((KhronosTaskManagerClass *) klass)->finalize = khronos_task_manager_finalize;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_type_class_add_private (klass, sizeof (KhronosTaskManagerPrivate));
#line 1141 "TaskManager.c"
}


static void
khronos_task_manager_instance_init (KhronosTaskManager * self)
{
	const gchar* _tmp0_;
	gchar* _tmp1_;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->priv = KHRONOS_TASK_MANAGER_GET_PRIVATE (self);
#line 24 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp0_ = g_get_user_cache_dir ();
#line 24 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_tmp1_ = g_strconcat (_tmp0_, "/com.github.lainsce.khronos", NULL);
#line 24 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->priv->app_dir = _tmp1_;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self->ref_count = 1;
#line 1160 "TaskManager.c"
}


static void
khronos_task_manager_finalize (KhronosTaskManager * obj)
{
	KhronosTaskManager * self;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, KHRONOS_TYPE_TASK_MANAGER, KhronosTaskManager);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_signal_handlers_destroy (self);
#line 22 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (self->win);
#line 23 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_object_unref0 (self->builder);
#line 24 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_free0 (self->priv->app_dir);
#line 26 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	_g_free0 (self->priv->file_name);
#line 1180 "TaskManager.c"
}


GType
khronos_task_manager_get_type (void)
{
	static volatile gsize khronos_task_manager_type_id__volatile = 0;
	if (g_once_init_enter (&khronos_task_manager_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { khronos_value_task_manager_init, khronos_value_task_manager_free_value, khronos_value_task_manager_copy_value, khronos_value_task_manager_peek_pointer, "p", khronos_value_task_manager_collect_value, "p", khronos_value_task_manager_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (KhronosTaskManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) khronos_task_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (KhronosTaskManager), 0, (GInstanceInitFunc) khronos_task_manager_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType khronos_task_manager_type_id;
		khronos_task_manager_type_id = g_type_register_fundamental (g_type_fundamental_next (), "KhronosTaskManager", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&khronos_task_manager_type_id__volatile, khronos_task_manager_type_id);
	}
	return khronos_task_manager_type_id__volatile;
}


gpointer
khronos_task_manager_ref (gpointer instance)
{
	KhronosTaskManager * self;
	self = instance;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	g_atomic_int_inc (&self->ref_count);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	return instance;
#line 1209 "TaskManager.c"
}


void
khronos_task_manager_unref (gpointer instance)
{
	KhronosTaskManager * self;
	self = instance;
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		KHRONOS_TASK_MANAGER_GET_CLASS (self)->finalize (self);
#line 21 "/home/lains/Documents/Projects/khronos/src/Services/TaskManager.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 1224 "TaskManager.c"
	}
}



